<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:bnu="http://bootsfaces.net/ui">
    
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <ui:composition template="../../template/template.xhtml">

            <ui:define name="content">
                #{companyController.setValues()}
                <h2>#{messages.comInfo}</h2>
        
        <h:form id="comForm"  >
            <bnu:messages showDetail="true" />
            <h:panelGrid columns="1" >
               
                <bnu:inputText  maxlength="50" value="#{companyController.companyComName}" placeholder="#{messages.nomCom}" label="#{messages.nomCom}" size="50" />
                
                <bnu:inputText maxlength="50" value="#{companyController.companyLegName}" placeholder="#{messages.nomLeg}" label="#{messages.nomLeg}"  />
                
                <bnu:inputText maxlength="50" value="#{companyController.giro}" placeholder="#{messages.giro}" label="#{messages.giro}" />
                
                <bnu:inputText maxlength="15" value="#{companyController.tel}" onkeyup="soloNumeros(this)" placeholder="#{messages.telefono}" label="#{messages.telefono}" /> 
                
                <bnu:inputText  maxlength="50" value="#{companyController.email}" placeholder="#{messages.emailCom}" label="#{messages.emailCom}" />
                
                <bnu:inputText maxlength="50"  value="#{companyController.website}" placeholder="#{messages.website}" label="#{messages.website}" />
                
                <h:outputLabel>#{messages.logo}</h:outputLabel>
                <p:fileUpload label="#{messages['lblImageUpload']}" invalidFileMessage="#{messages['lblFileInvalid']}" id="logoCom" fileUploadListener="#{companyController.handleFileUpload}" mode="advanced"
                              auto="true" sizeLimit="#{userData.GParameters.imgBytesSize}" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                <p:outputLabel id="msgFile" value="#{companyController.msgFile}" />
                <p:graphicImage value="#{companyController.logourl}" id="showLogo" style="height: 70px;width: 70px" />
                <h:panelGroup>
                    <bnu:commandButton value="#{messages.save}" action="#{companyController.save()}" />
                </h:panelGroup>
            </h:panelGrid>
        </h:form>
        <h:outputScript>
             function soloNumeros(obj) 
                { 
                obj.value = (obj.value + '').replace(/[^0-9]/g, '');
                }
            
        </h:outputScript>
       
        
                <bnu:modal  id="replaceModal" title="Invoice" styleClass="replaceModal"  close-on-escape="false" backdrop="false"  >
                        <h:panelGroup id="replace">
                            <h:form>
                                <bnu:row>
                                    <bnu:column span="12">
                                        <h5>#{messages.lblComConfirmLogo }</h5>
                                    </bnu:column>
                                </bnu:row>
                                <bnu:row>
                                    <bnu:column span="6"><bnu:commandButton value="#{messages.yes}" look="danger" action="#{companyController.uploadFile()}" style="width:100%"  />
                                    </bnu:column>
                                    <bnu:column span="6"><bnu:commandButton value="#{messages.No}" look="success" style="width:100%" /></bnu:column>
                                </bnu:row>
                                    
                                    
                          </h:form>
                        </h:panelGroup>
                        </bnu:modal> 
                
                
                
            </ui:define>

        </ui:composition>
        
        
        
        
        
    </h:body>
</html>

