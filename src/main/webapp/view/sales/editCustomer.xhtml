<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:bnu="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <f:view locale="#{ userData.locale}"/>

    <h:head>
        <title></title>
    </h:head>
    <h:body>
        <ui:composition template="/template/template.xhtml">
            <ui:define name="content">
                <p:panel style="background-color: #F4F5F8; border-color:#F4F5F8">
                    <h:panelGrid columns="1" columnClasses="left,right" style="width: 20%">
                        <p:outputLabel value="#{userData.currentCia.nomCom}" style="font-size: x-large; color: #020733"></p:outputLabel>
                    </h:panelGrid>
                </p:panel>

                <bnu:navCommandLink value="Add notes"></bnu:navCommandLink>

                <br></br><br></br><br></br><br></br><br></br>
                <h:form id="editCust">
                    <bnu:container styleClass="marco">

                        <bnu:tabView active-index="0" >
                            <bnu:tab title="Transaction List" >
                                <br></br><br></br>
                                <bnu:dataTable styleClass="table table-striped"
                                               value="#{customerController.custL}" 
                                               var="cust"
                                               paginated="false"
                                               searching="false">


                                    <bnu:column>
                                        <f:facet name="header">
                                            <bnu:selectBooleanCheckbox id="selectAllEntities"  
                                                                       immediate="true" ajax="true" update="@form">
                                                <f:ajax event="click" render="@form"/>
                                            </bnu:selectBooleanCheckbox> 
                                        </f:facet>
                                        <bnu:selectBooleanCheckbox 
                                            immediate="true" >
                                            <f:ajax event="click" render="@form"/>
                                        </bnu:selectBooleanCheckbox>
                                    </bnu:column>
                                    <bnu:dataTableColumn label="DATE" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="TYPE" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="NO." value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="DUE DATE" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="BALANCE" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="TOTAL BEFORE TAX" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="TAX" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="TOTAL" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="STATUS" value="#{cust.phone}"></bnu:dataTableColumn>
                                    <bnu:dataTableColumn label="ACTION" value="#{cust.phone}"></bnu:dataTableColumn>



                                </bnu:dataTable>
                            </bnu:tab>

                            <bnu:tab title="Customer Details">
                                <br></br>
                                <bnu:row>
                                    <bnu:column style="padding-right: 80px">
                                        <bnu:button        
                                            value="Edit" 
                                            style="float: right; width: 80px" onclick="PF('dlg3').show();"/>
                                    </bnu:column>
                                </bnu:row>
                                <br></br>

                                <h:panelGrid >
                                    <bnu:row>
                                        <bnu:panel span="6" >
                                            <bnu:column >
                                                <p>Customer</p>
                                                <h:outputLabel  value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Email</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Phone</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Mobile</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Fax</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Website</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column >
                                                <p>Notes</p>
                                                <bnu:inputTextarea placeholder="Notes" value="#{customerController.cust.firstname}"></bnu:inputTextarea>
                                            </bnu:column>

                                        </bnu:panel>  
                                        <bnu:panel span="6">

                                            <bnu:column>
                                                <p>Billing Address</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Shipping Address</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Terms</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Payment Method</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Preferred delivery method</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                            <bnu:column>
                                                <p>Tax Reg. No.</p>
                                                <h:outputLabel value="#{customerController.cust.firstname}"></h:outputLabel>
                                            </bnu:column>
                                        </bnu:panel>
                                    </bnu:row>

                                </h:panelGrid>


                            </bnu:tab>



                        </bnu:tabView>









                    </bnu:container>

                    <!-- modal edit-->
                    <p:dialog  header="Customer Information" widgetVar="dlg3"  height="500" width="1000">
                        <h:form id="editForm"> 
                            <h:panelGrid >
                                <bnu:row>
                                    <bnu:panel span="7" >
                                        <bnu:column span="2">
                                            <p>#{messages.titleC}</p>
                                            <bnu:inputText value="#{customerController.cust.title}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="3">
                                            <p>First Name</p>
                                            <bnu:inputText value="#{customerController.cust.firstname}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="2">
                                            <p>Mid</p>
                                            <bnu:inputText value="#{customerController.cust.middlename}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="3">
                                            <p>Last Name</p>
                                            <bnu:inputText value="#{customerController.cust.lastname}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="2">
                                            <p>Suffix</p>
                                            <bnu:inputText value="#{customerController.cust.suffixx}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="12">
                                            <p>Company</p>
                                            <bnu:inputText value="#{customerController.cust.company}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="12">
                                            <p>Display name as</p>  
                                            <bnu:inputText value="#{customerController.cust.displayName}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                    </bnu:panel>
                                    <bnu:panel span="5">
                                        <bnu:column span="12">
                                            <p>#{messages.emailC}</p>
                                            <bnu:inputText value="#{customerController.cust.email}" maxlength="50"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="4">
                                            <p>#{messages.phoneC}</p>
                                            <bnu:inputText value="#{customerController.cust.phone}" onkeyup="soloNumeros(this)" maxlength="20"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="4">
                                            <p>#{messages.mobileC}</p>
                                            <bnu:inputText value="#{customerController.cust.mobile}" onkeyup="soloNumeros(this)" maxlength="20"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="4">
                                            <p>#{messages.faxC}</p>
                                            <bnu:inputText value="#{customerController.cust.fax}" onkeyup="soloNumeros(this)" maxlength="20"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="6">
                                            <p>#{messages.websiteC}</p>
                                            <bnu:inputText value="#{customerController.cust.webside}" maxlength="100"></bnu:inputText>
                                        </bnu:column>
                                        <bnu:column span="7">
                                            <h:outputText value="Is sub customer :" ></h:outputText>
                                            <p:selectBooleanCheckbox></p:selectBooleanCheckbox>    
                                        </bnu:column>
                                        <bnu:column span="6">
                                            <bnu:selectOneMenu value="customer">
                                                <f:selectItem itemValue="1"></f:selectItem>
                                            </bnu:selectOneMenu> 
                                        </bnu:column>
                                        <bnu:column span="6">
                                            <bnu:selectOneMenu>
                                                <f:selectItem itemLabel="Bill this customer" itemValue="1"></f:selectItem>
                                                <f:selectItem itemLabel="Bill with parent" itemValue="2"></f:selectItem>
                                            </bnu:selectOneMenu> 
                                        </bnu:column>    

                                    </bnu:panel>

                                </bnu:row>

                                <bnu:tabView active-index="0">
                                    <bnu:tab title="Address">
                                        <bnu:row>
                                            <bnu:panel span="6">
                                                <bnu:column span="12">
                                                    <p><b>#{messages.billingA}</b></p>
                                                    <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.cust.street}"></bnu:inputTextarea>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.cust.city}" maxlength="50"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.cust.estate}" maxlength="50"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.cust.postalCode}" maxlength="50"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.cust.country}" maxlength="50"></bnu:inputText>
                                                </bnu:column>
                                            </bnu:panel>
                                            <bnu:panel span="6" id="pSH">
                                                <h:outputLabel><b>#{messages.shippingA}</b></h:outputLabel>
                                                <h:panelGrid columns="2">
                                                    <p:selectBooleanCheckbox value="#{customerController.sameSHA}">
                                                        <p:ajax update="pSH"/>
                                                    </p:selectBooleanCheckbox>
                                                    <h:outputText value="#{messages.sameSHA} " />
                                                </h:panelGrid>
                                                <bnu:column span="12">
                                                    <bnu:inputTextarea placeholder="#{messages.streetC}" value="#{customerController.cust.streetS}" disabled="#{customerController.sameSHA}"></bnu:inputTextarea>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.cityT}" value="#{customerController.cust.cityS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.stateP}" value="#{customerController.cust.estateS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.postalCC}" value="#{customerController.cust.postalCodeS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <bnu:inputText placeholder="#{messages.countryC}" value="#{customerController.cust.countryS}" disabled="#{customerController.sameSHA}"></bnu:inputText>
                                                </bnu:column>
                                            </bnu:panel>
                                        </bnu:row>
                                    </bnu:tab>

                                    <bnu:tab title="Notes">
                                        <bnu:row>
                                            <bnu:panel span="12">
                                                <bnu:column span="12">
                                                    <bnu:inputTextarea value="#{customerController.cust.note}"></bnu:inputTextarea>
                                                </bnu:column>
                                            </bnu:panel>
                                        </bnu:row>
                                    </bnu:tab>
                                    <bnu:tab title="Tax info">
                                        <bnu:row>
                                            <bnu:panel span="12">
                                                <bnu:column span="3">
                                                    <bnu:inputText label="Tax Reg No." value="#{customerController.cust.taxregno}"></bnu:inputText>
                                                </bnu:column>
                                            </bnu:panel>
                                        </bnu:row>

                                    </bnu:tab>
                                    <bnu:tab title="Payment and billing">
                                        <bnu:row>
                                            <bnu:panel span="6">
                                                <bnu:column span="6">
                                                    <p><strong>Preferred payment method</strong></p>
                                                    <bnu:selectOneMenu value="#{customerController.cust.paymentMethod}">
                                                        <f:selectItems value="#{customerController.PList}" var="pymnt" 
                                                                       itemLabel="#{pymnt.display}" itemValue="#{pymnt.name}"/>
                                                    </bnu:selectOneMenu>

                                                    <p><strong>Preferred delivery method</strong></p>
                                                    <bnu:selectOneMenu value="#{customerController.cust.deliveryMethod}">
                                                        <f:selectItems value="#{customerController.DList}" var="dlvry" 
                                                                       itemLabel="#{dlvry.display}" itemValue="#{dlvry.name}"/>
                                                    </bnu:selectOneMenu>
                                                </bnu:column>

                                            </bnu:panel>
                                            <bnu:panel span="6">
                                                <bnu:column span="6">
                                                    <p><strong>Terms</strong></p>
                                                    <bnu:selectOneMenu value="#{customerController.cust.terms}">
                                                        <f:selectItems value="#{customerController.TList}" var="term" 
                                                                       itemLabel="#{term.display}" itemValue="#{term.days}"/>                                                                                            
                                                    </bnu:selectOneMenu>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <p><strong>Opening balance</strong></p>
                                                    <bnu:inputText></bnu:inputText>
                                                </bnu:column>
                                                <bnu:column span="6">
                                                    <p><strong>As of</strong></p>
                                                    <bnu:dateTimePicker format="MM/DD/YYYY"></bnu:dateTimePicker>
                                                </bnu:column>
                                            </bnu:panel>
                                        </bnu:row>
                                    </bnu:tab>

                                    <bnu:tab title="Attachments">
                                        <h:form id="comForm">
                                            <bnu:row>
                                                <bnu:panel span="6">
                                                    <bnu:column span="6">
                                                        <p>Attachments</p>
                                                        <p:fileUpload label="#{messages['lblImageUpload']}" invalidFileMessage="#{messages['lblFileInvalid']}" id="logoCust"  mode="advanced"
                                                                      auto="true" sizeLimit="#{userData.GParameters.imgBytesSize}" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                                                        <p:outputLabel id="msgFile" value="#{customerController.msgFile}" />
                                                        <p:graphicImage value="#{customerController.logourl}" id="showLogo" style="height: 70px;width: 70px" />
                                                    </bnu:column>
                                                    <bnu:column span="6">
                                                        <p>Maximum size: 25MB</p>
                                                    </bnu:column>

                                                </bnu:panel>
                                            </bnu:row>
                                        </h:form>
                                    </bnu:tab>
                                </bnu:tabView>
                                <bnu:row>
                                    <bnu:column span="12">
                                        <bnu:messages id="msg" />
                                    </bnu:column>
                                </bnu:row>
                                <bnu:row>
                                    <bnu:commandButton value="#{messages.save}" look="success" action="#{customerController.edit()}"  />

                                </bnu:row>
                            </h:panelGrid>

                        </h:form>
                    </p:dialog>




                </h:form>

                <style>
                    body{
                        background-color: #F4F5F8;
                    }
                    .marco{
                        background-color: #ffffff;
                    }
                </style>

                <script type="text/javascript">
                    function toggleOut() {
                        $('.barra').fadeOut();
                        $('.btnOut').hide();
                        $('.btnIn').show();
                        $('.btnGrp').css('margin-left', '0px');
                        $('.logo').hide();
                        //alert('toggle');
                    }
                    function toggleIn() {
                        $('.barra').fadeIn();
                        $('.btnIn').hide();
                        $('.btnOut').show();
                        $('.btnGrp').css('margin-left', '125px');
                        $('.logo').show();
                        //alert('toggle');
                    }
                </script>
                <style type="text/css">
                    .main{
                        margin-top: 60px;
                    }

                    .sidebar {

                        background-color: #f5f5f5;
                        border-right: 1px solid #eee;
                        padding: 20px;
                    }

                    .nav-list {
                        margin-bottom: 20px;
                        margin-left: -20px;
                        margin-right: -21px;
                    }
                    .nav-list > li > a {
                        padding-left: 20px;
                        padding-right: 20px;
                    }
                    .nav-list > .active > a, .nav-sidebar > .active > a:hover, .nav-sidebar > .active > a:focus {
                        background-color: #428bca;
                        color: #fff;
                        border-radius: 30px;
                    }

                </style>






            </ui:define>
        </ui:composition>

    </h:body>
</html>

